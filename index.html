<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="assets/css/bootstrap.min.css" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
  <link rel="stylesheet" href="assets/css/style.css" />
  <script src="assets/js/jquery.min.js"></script>
  <script src="assets/js/bootstrap.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.3/angular.min.js"></script>
  <script src="assets/js/script.js"></script>
  <title></title>
</head>
<body ng-app="shop">
  <nav class="navbar navbar-expand-sm bg-color-7 fixed-top">
    <a class="navbar-brand" href="#" id="logo"></a>
    <button class="navbar-toggler toggle-button" type="button" data-toggle="collapse" data-target="#collapsibleNavbar"></button>
    <a class="nav-link d-block d-sm-block d-md-none d-lg-none d-xl-none showModalWindow" data-toggle="modal" href="#myModal"><span class="fas fa-shopping-basket"></span> 0.00€ (0)</a>
    <div class="collapse navbar-collapse" id="collapsibleNavbar">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" id="all">Tous</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="bathCarpet">Bain</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="livingRoomCarpet">Salon</a>
        </li>
        <li class="nav-item">
          <a class="nav-link d-none d-sm-none d-md-block d-lg-block d-xl-block showModalWindow" data-toggle="modal" href="#myModal">
            <span class="fas fa-shopping-basket"></span> 0.00€ (0)</a>
          </li>
        </ul>
      </div>
    </nav>
    <div class="container-fluid" ng-controller="myContent">
      <div class="row">
        <div class="col-lg-3 col-md-6 col-12" ng-repeat="volume in items track by $index">
          <div class="card w-100">
            <img class="card-img-top mt-3" src="assets/img/{{ volume.image }}" alt="{{ volume.name }}">
            <div class="card-body">
              <h4 class="card-title" title="{{ volume.name }}">{{ volume.name }}</h4>
              <p class="card-text" data-toggle="tooltip" data-placement="bottom" title="{{ volume.desc }}">{{ volume.desc }}</p>
              <p>Prix: {{ volume.price }}€</p>
              <a class="btn add-button" ng-click="addToBasket($index)">Ajouter au panier</a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="" ng-controller="myCart">
      <div class="modal fade" id="myModal">
        <div class="modal-dialog">
          <div class="modal-content">
            <!-- Modal Header -->
            <div class="modal-header bg-color-7" >
              <h4 class="modal-title">Mon panier</h4>
              <button type="button2" class="close" data-dismiss="modal">&times;</button>
            </div>
            <!-- Modal body -->
            <div class="modal-body">
              <div class="container-fluid modalBody m-0 p-0">
                <div class="modal-body">
                  <div class="container-fluid modalBody m-0 p-0">
                    <div class="row">
                      <div class="column" ng-repeat = "(id,volume) in qantity track by $index">
                        <div class="my-0 row shoppingCardContent">
                          <div class="pt-1 col-6"><p>nom : {{items[$index].name }}</p></div>
                          <div class="col-6"><p>prix : {{ items[$index].price }}€</p></div>
                          <div class="col-12"><p> total : {{ items[$index].price * volume }}€</p>
                            <label>quantité : </label>
                            <div class="row">
                              <div class="col-4">
                                <button class="btn bg-color-6" ng-click="qantityChange($index, 1)">+</button>
                              </div>
                              <div class="col-4">
                                <p>{{ volume }}</p>
                              </div>
                              <div class="col-4">
                                <button class="btn bg-color-6" ng-click="qantityChange($index, -1)">-</button>
                              </div>
                            </div>
                          </div>
                          <div class="pb-2 col-12">
                            <button class="w-100 btn bg-color-6" ng-click="erase(id)">Supprimer</button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Modal footer -->
            <div class="modal-footer w-100">
              <div class="modalFooter">

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
  </html>
